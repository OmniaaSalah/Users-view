<div class="ui-g mb-4" *ngIf="!isSkeletonVisible">
    <div class="row g-5" [lazy]="true">
        <div class="col-md-4 ">
            <p-card id="card-chart">
                <div class="row">
                    <div *ngIf="model.schoolCurriculumDatasets" class="col-md-6" id="shoolCurriculumChart">
                        <canvas baseChart [datasets]="model.schoolCurriculumDatasets" [options]="model.schoolCurriculumOptions" [legend]="false" [type]="'doughnut'">
                      </canvas>
                        <ng-template [ngTemplateOutlet]="totalSchoolCount"></ng-template>
                    </div>
                    <div *ngIf="model.chartData && model.shoolCurriculumChartLabels.length > 0" class="col-md-6">
                        <ul class="chart-Info">
                            <li *ngFor="let item of model.shoolCurriculumChartLabels" class="second-card">
                                <span class="color-primary-700 mb-2 percentage">{{item.value || value | number:'1.0-0' }}</span>
                                <span class="color-gray-300 fs-4 titlechart">{{item.key}}</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </p-card>
        </div>
        <div class="col-md-5">
            <p-card id="card-chart-bar">
                <div class="row">
                    <div class="col-md-7">
                        <!-- <canvas id="bar" baseChart [data]="model.regionSchoolsData" [options]="model.regionSchoolsOptions" [plugins]="model.regionSchoolPlugins" [legend]="false" [type]="'bar'" height="212" width="365" style="font-size: large;">
                      </canvas> -->
                        <div *ngIf="model.schoolCityDatasets">
                            <canvas id="bar" baseChart [datasets]="model.schoolCityDatasets" [options]="model.schoolCityOptions" [legend]="false" [plugins]="model.regionSchoolPlugins" [type]="'bar'" height="212" width="310" [labels]="model.schoolCityChartStringLabels">
                        </canvas>

                        </div>

                    </div>
                    <div class="col-md-5">
                        <div *ngIf="model.chartData && model.schoolCityChartLabels.length> 0" class="mt-3 Bar-char-Info">
                            <h2 class="title mb-3">{{'dashboard.SystemSetting.SchoolNumber'|translate}}</h2>
                            <ul class="chart-Info-bar">
                                <li *ngFor="let item of model.schoolCityChartLabels" class="second-card">
                                    <span class="color-primary-700 mb-2 percentage">{{item.value || value| number:'1.0-0'}}</span>
                                    <span class="color-gray-300 titlechart-bar">{{item.key}}</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- <div *ngIf="model.chartData" class="col-md-4 mt-5 Bar-char-Info">
                      <h2 class="title mb-3">عدد المدارس</h2>
                      <ul class="chart-Info-bar">
                          <li class="Active">
                              <span class="color-primary-700 mb-2 percentage">{{model.chartData.schoolCountInCentralRegion|| value}}</span>
                              <span class="color-gray-300 fs-5">المنطقة الوسطى</span>
                          </li>
                          <li class="second">
                              <span class="color-primary-700 mb-2 percentage">{{model.chartData.schoolCountInEasternProvince || value}}</span>
                              <span class="color-gray-300 fs-5">المنطقة الشرقية</span>
                          </li>
                          <li class="notActive">
                              <span class="color-primary-700 mb-2 percentage">{{model.chartData.schoolCountInSharjahCity|| value}}</span>
                              <span class="color-gray-300 fs-5"> المنطقة الشارقة</span>
                          </li>
                      </ul>
                  </div> -->
                </div>
            </p-card>
        </div>
        <div class="col-md-3">
            <p-card id="card-chart">
                <div class="row">
                    <div class="col-md-6" id="activeSchoolsChar">
                        <canvas baseChart [labels]="model.activeSchoolsChartLabels" [datasets]="model.activeSchoolsDatasets" [options]="model.activeSchoolsOptions" [legend]="false" [type]="'doughnut'">
                      </canvas>
                        <ng-template [ngTemplateOutlet]="totalSchoolCount"></ng-template>
                    </div>
                    <div class="col-md-6">
                        <ul class="chart-Info-active">
                            <li class="notActive mb-4">
                                <span class="color-primary-700 mb-2 percentage">{{model?.chartData?.inActiveSchoolCount}}</span>
                                <span class="color-gray-300 fs-4">{{'shared.allStatus.SchoolInactive'|translate}}</span>
                            </li>
                            <li class="Active">
                                <span class="color-primary-700 mb-2 percentage">{{model?.chartData?.activeSchoolCount}}</span>
                                <span class="color-gray-300 fs-4">{{'shared.allStatus.SchoolActive'|translate}}</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </p-card>
        </div>
    </div>
</div>

<ng-template #totalSchoolCount>
    <div *ngIf="model.chartData" class="mt-4">
        <h2 class="chart-title">{{'shared.Total Number'|translate}}</h2>
        <h2 class="number-chart fw-300">{{model.chartData.totalSchoolCount}}</h2>
    </div>
</ng-template>

<ng-container *ngIf="isSkeletonVisible">

    <div class="row g-5">
        <div class="col-md-4">
            <app-skeleton count="4" ></app-skeleton>
        </div>
        <div class="col-md-4">
            <app-skeleton count="4" ></app-skeleton>
        </div>
        <div class="col-md-4">
            <app-skeleton count="4" ></app-skeleton>
        </div>
    </div>
</ng-container>
