<div class="radius-15 border p-5 mb-5 bg-white">
    <div class="row">
        <div class="col-md-3">
            <h3 class="heading heading--tertiary mb-4">عنوان الاستبيان</h3>
            <span class="color-skyBlue-500 mb-2">
                {{survey.surveyTitle.ar}}
            </span>
        </div>
        <div class="col-md-3">
            <h3 class="heading heading--tertiary mb-4">نوع الاستبيان</h3>
            <span class="color-skyBlue-500 mb-2">
                {{survey.surveyType}}
            </span>
        </div>
        <div class="col-md-3">
            <h3 class="heading heading--tertiary mb-4">تاريخ الاختفاء </h3>
            <span class="color-skyBlue-500 mb-2">
                {{survey.disApperanceDate}}
            </span>
        </div>
        <div class="col-md-3">
            <h3 class="heading heading--tertiary mb-4">عدد الاسئله</h3>
            <span class="color-skyBlue-500 mb-2">
                {{survey.surveyNumber}}
            </span>
        </div>
    </div>

</div>
<hr class="color-gray-400 mb-4">
<!-- <form [formGroup]="parentForm"> -->
<div class="first-part">
    <form [formGroup]="surveyForm" >
    <ol class="double-list" formArrayName="surveyQuestions">
        <li class="m-3" *ngFor="let surv of surveyQuestions.controls; let i=index">
            <h3 class="heading heading--tertiary mb-3">السؤال {{i+1}} (اختيار من متعدد)</h3>
            <div class="survey-content" [formGroupName]="i">
                <p class="title-survey mb-4">{{surv.questionText}}</p>
                <ng-container *ngIf="surv.value.type == 'SurveyMultiChoiceQuestion'">
                     <span class="choices-question">خيارات السؤال</span>
                    <div *ngFor="let choice of surv.value.choices" class="field-checkbox">
                        <p-radioButton  [value]="choice.id" formControlName="answer">
                        </p-radioButton>
                        <label>{{choice.title}}</label>
                    </div>
                </ng-container>
                <!-- [name]="'answer'+i" -->
                <ng-container *ngIf="surv.value.type == 'SurveyFreeTextQuestion' ">
                    <textarea [cols]="30" class="w-100 rounded textareaBorder" formControlName="answer" [rows]="9" placeholder="{{'dashboard.addChild.note (optional)' | translate}}" pInputTextarea [autoResize]="true"></textarea>
                </ng-container>

                <ng-container *ngIf="surv.value.type == 'SurveyAttachmentQuestion' ">
                    <app-file-upload view="full" (onFileUpload)="messageUpload1($event,i)" (onFileDelete)="messageDeleted1($event,i)"></app-file-upload>
                </ng-container>

                <ng-container *ngIf="surv.value.type == 'SurveyRateQuestion' ">
                    <p-rating formControlName="answer" [cancel]="false"></p-rating>
                </ng-container> 
             </div>
            <!-- {{surv.value | json}} -->
            <hr class="color-gray-400 mb-4">
        </li>
        </ol>
        <button class="btn btn-primary" [disabled]="!isDisabled" (click)="sendData()">sendData</button>

    </form>