<!-- -----BreadCrumb-- -->
<app-send-btn [route]="'/dashboard/performance-managment/assignments/assignments-list'" [typeOfAdd]="'uploadAssignment'" [content]="assignmentFormGrp">
</app-send-btn>
<!-- -------------- -->
<div style="overflow-x: hidden;">

    <div class="d-flex ">

        <div id="content">

            <!-- ---------------- -->

            <div class="container mt-5 custom-form custom-validation-form">
                <form [formGroup]="assignmentFormGrp" class="container-fluid ">

                    <div class="row gx-5 form-set">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'shared.curriculum' | translate}}
                                </label>
                                <p-dropdown [(ngModel)]="CurriculumSelected" (onChange)="onChange($event)" [options]="curriculums" formControlName="curriculum" class="form-control " [style]="{width:'99%'}" placeholder="{{'Choose Curriculum' | translate}}">
                                    <ng-template let-value pTemplate="selectedItem">
                                        <div class="country-item country-item-value" *ngIf="CurriculumSelected">
                                            <div>{{CurriculumSelected.name.ar}}</div>
                                        </div>
                                    </ng-template>
                                    <ng-template let-item pTemplate="item">
                                        {{item.name.ar}}
                                    </ng-template>
                                </p-dropdown>

                            </div>
                        </div>
                        <!-- <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'School' | translate}}
                                </label>
                                <p-dropdown [(ngModel)]="SchoolSelected" [options]="schools" formControlName="schools" class="form-control "
                                    [style]="{width:'99%'}" placeholder="{{'Choose School' | translate}}">
                                    <ng-template let-value pTemplate="selectedItem">
                                        <div class="country-item country-item-value" *ngIf="SchoolSelected">
                                            <div>{{SchoolSelected.name.ar}}</div>
                                        </div>
                                    </ng-template>
                                    <ng-template let-item pTemplate="item">
                                        {{item.name.ar}}
                                    </ng-template>
                                </p-dropdown>
                            </div>
                        </div> -->
                    </div>


                    <!-- <hr class="line"> -->

                    <div class="row gx-5 form-set">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'Class' | translate}}
                                </label>

                                <p-dropdown [(ngModel)]="GradeSelected" [options]="grades" formControlName="grades" class="form-control " [style]="{width:'99%'}" placeholder="{{'Choose Class' | translate}}">
                                    <ng-template let-value pTemplate="selectedItem">
                                        <div class="country-item country-item-value" *ngIf="GradeSelected">
                                            <div>{{GradeSelected.name.ar}}</div>
                                        </div>
                                    </ng-template>
                                    <ng-template let-item pTemplate="item">
                                        {{item.name.ar}}
                                    </ng-template>
                                </p-dropdown>
                                <!-- <p-dropdown [options]="cities" placeholder="{{'Choose Class' | translate}}"
                                    class="form-control" appValidation></p-dropdown> -->
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'Subject' | translate}}
                                </label>

                                <p-dropdown [(ngModel)]="SubjectSelected" [options]="subjects" formControlName="subjects" class="form-control " [style]="{width:'99%'}" placeholder="{{'Choose Subject' | translate}}">
                                    <ng-template let-value pTemplate="selectedItem">
                                        <div class="country-item country-item-value" *ngIf="SubjectSelected">
                                            <div>{{SubjectSelected.subjectName.ar}}</div>
                                        </div>
                                    </ng-template>
                                    <ng-template let-item pTemplate="item">
                                        {{item.subjectName.ar}}
                                    </ng-template>
                                </p-dropdown>

                                <!-- <p-dropdown [options]="cities" placeholder="{{'Choose Subject' | translate}}"
                                    class="form-control" appValidation></p-dropdown> -->
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'Exam name' | translate}}
                                </label>
                                <input formControlName="ExamName" type="text" pInputText class="form-control basicinput" appValidatorsInput placeholder="{{'Write Exam name' | translate}}">

                            </div>
                        </div>
                    </div>

                    <div class="row gx-5 form-set">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'Exam duration (in minutes)' | translate}}
                                </label>

                                <input formControlName="ExamDuration" type="text" pInputText class="form-control basicinput" appValidatorsInput placeholder="{{'Minute' | translate}}">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'dashboard.Assignments.Exam Date' | translate}}
                                </label>
                                <div class="field col-12 md:col-4">

                                    <p-calendar formControlName="ExamDate" [showIcon]="true" inputId="icon" class="form-control" appValidation placeholder="dd/mm/yy" [readonlyInput]="true" dateFormat="dd/mm/yy"></p-calendar>

                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="label" for="">
                                    {{'dashboard.Assignments.Exam Time' | translate}}
                                </label>
                                <!-- <input class="form-control basicinput" appValidatorsInput selectionMode="range" type="time" > -->
                                <p-calendar formControlName="ExamTime" icon="pi pi-clock" [timeOnly]="true" showIcon="true" [hourFormat]="12" inputId="timeonly"></p-calendar>

                            </div>
                        </div>
                    </div>
                    <div class="row gx-5 form-set">
                        <div class="col-lg-10 files-upload">
                            <!-- <h5 class="label">{{'Exam questions in both paper and audio formats' | translate}}</h5>
                            <div class="uploadfilecontainer" (click)="fileInput.click()" appDragDrop (onFileDropped)="upload($event)">

                                <img src="assets/images/shared/upload.svg">

                                <p class="my-3" style="font-size: 1.8rem; color:#AFAFAF"> انقر لإرفاق ملف</p>

                                <input accept=".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf" hidden type="file" multiple #fileInput (change)="upload($event)">

                            </div>

                            <div class="files-list" *ngFor="let file of attachmentList;let i= index">

                                <p> {{ attachmentsName[i] }} </p>

                                <button class="delete-file" (click)="deleteAttachment(i)">

                                  <img src="assets/images/shared/slice.svg">

                                </button>

                            </div> -->
                            <!---------use this --
                            <div class="col ">
                                <div class="row">
                                    <app-file-upload (onFileUpload)="onFileUpload($event)"></app-file-upload>

                                </div>
                                <!-------------------for more details show component app-school-details-------------------

                        </div>
                        <!---------or this but prefered above-------->
                            <div class="image-uploader__upload upload-btn">
                                <p-fileUpload (uploadHandler)="onFileUpload($event)" name="demo[]" customUpload="true" (onUpload)="onUpload($event)" multiple="multiple" maxFileSize="200000">
                                    <ng-template pTemplate="content">
                                        <ul *ngIf="uploadedFiles.length">
                                            <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes</li>
                                        </ul>
                                    </ng-template>
                                </p-fileUpload>
                            </div>

                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
