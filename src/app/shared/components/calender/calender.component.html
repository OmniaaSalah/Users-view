<div class="row text-center" lang="ar">
    <!-- <div class="col-md-4">
      <div class="btn-group">
        <div
          class="btn btn-primary"
          mwlCalendarPreviousView
          [view]="view"
          [(viewDate)]="viewDate"
          (viewDateChange)="closeOpenMonthViewDay()"
        >
          Previous
        </div>
        <div
          class="btn btn-outline-secondary"
          mwlCalendarToday
          [(viewDate)]="viewDate"
        >
          Today
        </div>
        <div
          class="btn btn-primary"
          mwlCalendarNextView
          [view]="view"
          [(viewDate)]="viewDate"
          (viewDateChange)="closeOpenMonthViewDay()"
        >
          Next
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
    </div>
    <div class="col-md-4">
      <div class="btn-group">
        <div
          class="btn btn-primary"
          (click)="setView(CalendarView.Month)"
          [class.active]="view === CalendarView.Month"
        >
          Month
        </div>
        <div
          class="btn btn-primary"
          (click)="setView(CalendarView.Week)"
          [class.active]="view === CalendarView.Week"
        >
          Week
        </div>
        <div
          class="btn btn-primary"
          (click)="setView(CalendarView.Day)"
          [class.active]="view === CalendarView.Day"
        >
          Day
        </div>
      </div>
    </div>
  </div>
  <br /> -->

  <!-- <div class="d-flex justify-content-end mb-5">
    <button class="btn btn--md btn-outline-primary" (click)="eventEditMode =true">
      <fa-icon class="icon" [icon]="faPlus"></fa-icon>
      <span>{{'dashboard.schools.addClass'|translate}}</span>
    </button>
  </div> -->

  <ng-template #customCellTemplate let-day="day" let-weekEvent="weekEvent">
    <div class="event-template d-flex " (click)="eventClicked(weekEvent.event)">
      <div class="position-relative w-100">
        <div class="d-flex"> 
          <span>{{getTime(weekEvent.event?.start)}}</span>&nbsp;-&nbsp;<span>{{ getTime(weekEvent.event?.end)}}</span>
        </div>
        <!-- <span class=" color-primary">رقم الحصه : 3</span> -->

        <div class="subjects d-flex mt-1" *ngIf="weekEvent.event.meta?.subjects?.length">
          <ul class="d-flex flex-wrap">
            <span class="color-red-500">{{'dashboard.schools.subjects'|translate}}:-</span>
            <li class="d-flex" *ngFor="let subject of weekEvent.event.meta?.subjects; let i= index">
              <span [class.d-none]="i==0">&nbsp;-&nbsp;</span>
              <!-- <div [ngClass]="{'color-red-500' : (i %2 == 0),'color-skyBlue-500': (i % 2 != 0) }">{{subject}}</div> -->
              <div>{{subject?.name |currentLang}}</div>

            </li>
          </ul>
        </div>

        <div class="actions d-flex align-items-center position-absolute" *ngIf="showActions">
          <img *permit="claimsEnum.E_U_GradeLecture"  src="assets/images/shared/rect-bluepen.svg" alt="edit" StopProp (click)="onEdit.emit(weekEvent.event)">
          <img *permit="claimsEnum.E_D_GradeLecture" src="assets/images/shared/rect-xmark.svg" alt="delete" StopProp (click)="onDelete.emit(weekEvent.event)">
         
        </div>
      </div>

    </div>
  </ng-template>

  <ng-template #eventTitleTemplate let-day="day">

  </ng-template>

    <div [ngSwitch]="view" dir="rtl">
      
      <mwl-calendar-week-view
      *ngSwitchCase="CalendarView.Week"
          [viewDate]="viewDate"
          [locale]="locale"
          [excludeDays]="excludeDays"
          [events]="events"
          [refresh]="refresh"
          [eventTemplate]="customCellTemplate"
          [eventActionsTemplate]="eventTitleTemplate"
          [dayStartHour]="8"
          [dayEndHour]="16"
          [hourSegmentHeight]="'70'"
          (eventClicked)="eventClicked( $event)"
          (dayHeaderClicked)="cellClicked($event)"
          (mwlClick)="cellClicked($event)"
          >
          <!-- (beforeViewRender)="updateCalendarEvents($event)" -->
        </mwl-calendar-week-view>
  
  
    
      <!-- <mwl-calendar-month-view
        *ngSwitchCase="CalendarView.Month"
        [viewDate]="viewDate"
        [events]="events"
        [refresh]="refresh"
        [cellTemplate]="customCellTemplate"
        [activeDayIsOpen]="activeDayIsOpen"
        (dayClicked)="dayClicked($event.day)"
        (eventClicked)="handleEvent('Clicked', $event.event)"
        (eventTimesChanged)="eventTimesChanged($event)"
      >
      </mwl-calendar-month-view>
  
      <mwl-calendar-day-view
        *ngSwitchCase="CalendarView.Day"
        [viewDate]="viewDate"
        [events]="events"
        [refresh]="refresh"
        (eventClicked)="eventClicked( $event)"
        (eventTimesChanged)="eventTimesChanged($event)"
      >
      </mwl-calendar-day-view> -->
    </div>

