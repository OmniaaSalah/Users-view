
    <ng-container *ngIf="!(student$ |async)">
        <div class="row g-5">
            <div class="col-md-4">
                <app-skeleton count="6" [style]="{'margin-bottom': '3rem'}"></app-skeleton>
            </div>
            <div class="col-md-4">
                <app-skeleton count="5" [style]="{'margin-bottom': '3rem'}"></app-skeleton>
            </div>
            <div class="col-md-4">
                <app-skeleton count="6" [style]="{'margin-bottom': '3rem'}"></app-skeleton>
            </div>
        </div>

    </ng-container>

    <ng-container *ngIf="mode=='edit'">

        <div class="d-flex justify-content-end">
          <button class="btn btn-primary "
          [disabled]="(this.childService.loading$ |async) || !studentForm.valid"
          (click)="onFormSubmitted.emit()">
              <span>{{'shared.saveChanges'| translate}}</span>
              <div class="spinner-border text-light" role="status" *ngIf="this.childService.loading$ |async"></div>
          </button>

          <button  (click)="mode='view'"><a class="cancelbtn mx-4">{{'shared.Cancel'|translate}}</a></button>
         </div>

          <hr class="my-5">
      </ng-container>

    <ng-container *ngIf="(student$ |async) as student">

      <app-student-prohibited-status
      [(mode)]="mode"
      (onFormSubmitted)="updateStudent()"
      [formGroup]="studentForm"></app-student-prohibited-status>

      <hr class="my-6 w-75" *ngIf="currentUserScope != scopeEnum.Guardian">
      <hr class="my-6 w-75" *ngIf="currentUserScope == scopeEnum.Guardian && mode=='view'">


        <ng-container *ngIf="mode=='view'">
            <div class="float-btn " (click)="mode='edit'; modeChange.emit(mode)" *permit="claimsEnum.SEG_U_StudentInfo">
                <img src="assets/images/shared/pen-blue-filled.svg" alt="">
            </div>

            <div class="">
              <sub-header title="{{'dashboard.students.StudentInfo'|translate}}" img="assets/images/home/student/graduation-student.svg"></sub-header>

              <app-identity-info [(mode)]="mode" [formGroup]="studentForm"></app-identity-info>

              <hr class="my-5">

              <div class="d-grid grid-col-8 even-gap gap-5">



                <p class="color-gray-300">{{ 'dashboard.students.studentSchoolId'|translate }}</p>
                <span class="color-primary">{{student?.studentNumber}}</span>

                <p class="color-gray-300">{{'dashboard.students.daleelNumber1' |translate}}</p>
                <span class="color-primary">{{student.daleelId}}</span>

                <!-- <p class="color-gray-300">{{'dashboard.students.manhalNumber' |translate}}</p>
                <span class="color-primary">{{student.manhalNumber}}</span> -->

                <p class="color-gray-300">{{'dashboard.parents.ministerialNumber' |translate}}</p>
                <span class="color-primary mb-2">{{student.ministerialId || ('shared.notFound' |translate)}}</span>


                <p class="color-gray-300">{{ 'shared.nationalityCategory'|translate }}</p>
                <span class="color-primary mb-2">{{student?.nationalityCategory?.name | currentLang}}</span>

                <p class="color-gray-300">{{ 'shared.nativeLanguage'|translate }}</p>
                <span class="color-primary mb-2">{{student?.motherLanguage?.name | currentLang}}</span>

                <p class="color-gray-300">{{ 'shared.homeLanguage'|translate }}</p>
                <span class="color-primary mb-2">{{student?.languageAtHome?.name | currentLang}}</span>

                <p class="color-gray-300">{{ 'shared.mostUsedLanguage'|translate }}</p>
                <span class="color-primary mb-2">{{student?.mostUsedLanguage?.name | currentLang}}</span>




                <p class="color-gray-300">{{ 'dashboard.students.attendanceType'|translate }}</p>
                <span class="color-primary mb-2">{{'dashboard.students.' + student?.attendanceMode |translate}}</span>

                <p class="color-gray-300">{{'dashboard.students.withDisabilities'| translate}}</p>
                <span class="color-primary mb-2">{{student?.isSpecialAbilities? ('shared.yes'| translate) : ('shared.no' | translate)}}</span>

                <p class="color-gray-300" *ngIf="student?.isSpecialAbilities">{{'shared.classroom'| translate}}</p>
                <span class="color-primary mb-2" *ngIf="student?.isSpecialAbilities">{{student?.isSpecialClass? ('shared.specialClass'| translate) : ('shared.fusionClass' | translate)}}</span>

                <ng-container *ngIf="student?.isSpecialClass">
                  <p class="color-gray-300 ">{{ 'dashboard.parents.specialEducation'|translate }}</p>
                  <span class="color-primary mb-2 fs-3">{{student?.specialEducation?.name | currentLang}}</span>
                </ng-container>

                <ng-container *ngIf="student.emiratesId">
                  <p class="color-gray-300 ">{{'shared.Identity Number'|translate}}</p>
                  <span class="color-primary">{{student.emiratesId}}</span>

                  <p class="color-gray-300">{{ 'shared.nationalIdExpireDate'|translate }}</p>
                  <span class="color-primary mb-2">{{student.emiratesIdExpirationDate  | LocalizeDate}}</span>
                </ng-container>

                <ng-container *ngIf="!student.emiratesId">
                  <p class="color-gray-300">{{ 'shared.Identity Number'|translate }}</p>
                  <span class="color-primary mb-2">{{'shared.notFound' |translate}}</span>

                  <p class="color-gray-300">{{ 'dashboard.addChild.The reason for the lack of identification'|translate }}</p>
                  <span class="color-primary mb-2">{{student.reasonForNotHavingEmiratesId}}</span>
                </ng-container>

                <p class="color-gray-300">{{'dashboard.students.isGifted'| translate}}</p>
                <span class="color-primary mb-2" *ngIf="student?.isGifted">{{'shared.yes'|translate}}</span>
                <span class="color-primary mb-2" *ngIf="!student?.isGifted">{{'shared.no'|translate}}</span>
              </div>


              <div class="d-grid grid-col-8 even-gap gap-5 mt-5">
                <ng-container *ngIf="student?.isGifted">
                    <p class="color-gray-300">{{'dashboard.students.talent'| translate}}</p>
                    <div  class="mb-2 d-flex">
                        <span class="color-primary " *ngFor="let talent of student?.studentTalents;let i=index">
                            {{talent?.talentName|currentLang}}<span *ngIf="student?.studentTalents.length>i+1"> , </span>
                        </span>
                    </div>

                </ng-container>
              </div>
            </div>

            <hr class="my-6 w-75">

            <div class="">
              <sub-header title="{{'dashboard.students.Student School Information'|translate}}" img="assets/images/home/student/school.svg"></sub-header>

              <div class="d-grid grid-col-8 even-gap gap-5">

                <p class="color-gray-300 flex-shrink-0">{{'School'|translate}}</p>
                <span *ngIf="currentUserScope==scopeEnum.SPEA" class="color-primary mb-2 flex-shrink-0" [routerLink]="['../../../schools/school/', student?.school?.id]"><a class="color-skyBlue-500">{{student?.school?.name |currentLang}}</a></span>
                <span *ngIf="currentUserScope==scopeEnum.Guardian || currentUserScope==scopeEnum.Employee" class="color-primary mb-2 flex-shrink-0">{{student?.school?.name |currentLang}}</span>

                <p class="color-gray-300">{{ 'shared.curriculum'|translate }}</p>
                <span class="color-primary mb-2">{{student?.curriculum?.name |currentLang}}</span>

                <p class="color-gray-300">{{ 'shared.state'|translate }}</p>
                <span class="color-primary mb-2">{{student?.schoolState |currentLang}}</span>

                <p class="color-gray-300">{{ 'dashboard.parents.schoolNumber'|translate }}</p>
                <span class="color-primary mb-2">{{student?.schoolCode}}</span>


                <p class="color-gray-300">{{ 'shared.grade'|translate }}</p>
                <span class="color-primary mb-2">{{student?.grade.name |currentLang}}</span>

                <p class="color-gray-300">{{'shared.division'| translate}}</p>
                <span *ngIf="student.division?.id" class="color-primary mb-2">{{student.division.name |currentLang}}</span>
                <span *ngIf="!student.division?.id" class="color-red-500 mb-2">{{'dashboard.students.notAddedToDivision'|translate }}</span>

                <p class="color-gray-300">{{'shared.track'| translate}}</p>
                <span *ngIf="student?.track?.id" class="color-primary mb-2">{{student.track.name |currentLang}}</span>
                <span *ngIf="!student?.track?.id" class="color-red-500 mb-2">{{'shared.notFound' |translate}}</span>


                <p class="color-gray-300">{{ 'dashboard.students.studentStatus'|translate }}</p>
                <span class="color-primary mb-2" *ngIf="student.isPassed!=null">{{student?.isPassed ? ('shared.allStatus.Passed'|translate) : ('shared.allStatus.Failed'|translate)}}</span>
                <span class="color-primary mb-2" *ngIf="student.isPassed==null">{{'shared.NotDeterminedYet'|translate}}</span>



              </div>

              <!-- <div class="d-grid grid-col-8 even-gap gap-5 mt-5">
                <ng-container>
                    <p class="color-gray-300">{{'dashboard.students.studentSubjects'| translate}}</p>
                    <div  class="mb-2 d-flex flex-wrap">
                        <span class="color-primary " *ngFor="let subject of student?.subjects;let i=index">
                            {{subject?.name|currentLang}}
                            <span *ngIf="student?.subjects?.length>i+1">  &nbsp; - &nbsp;</span>
                        </span>
                        <span class="color-red-500" *ngIf="!student?.subjects?.length">{{'shared.notFound' |translate}}</span>
                    </div>

                </ng-container>
              </div> -->
            </div>

            <hr class="my-6 w-75">


            <div class="">
              <sub-header title="{{'dashboard.students.Student Address Information'|translate}}">
                <i class="pi pi-globe color-orange" style="font-size: 2rem"></i>
              </sub-header>

              <div class="d-grid grid-col-8 even-gap gap-5">
                <p class="color-gray-300">{{'shared.city'|translate }}</p>
                <span class="color-primary mb-2">{{(student?.address?.city |translate) || '--'}}</span>

                <p class="color-gray-300">{{ 'shared.emara'|translate }}</p>
                <span class="color-primary mb-2">{{student?.address?.emirate || '--'}}</span>

                <p class="color-gray-300">{{ 'shared.state'|translate}}</p>
                <span class="color-primary mb-2">{{student?.address?.state || '--'}}</span>
              </div>
            </div>


            <hr class="my-6 w-75">

            <div class="">
              <sub-header title="{{'dashboard.parents.parentInfo'|translate}}" img="assets/images/home/schools-students/Parentnew.svg"></sub-header>

              <div class="d-grid grid-col-8 even-gap gap-5">
                <p class="color-gray-300">{{ 'Guardian'|translate }}</p>
                <span class="color-primary mb-2">{{student?.guardianName | currentLang}}</span>

                <p class="color-gray-300">{{ 'dashboard.parents.relatedType'|translate }}</p>
                <span class="color-primary mb-2">{{student?.relativeRelation?.name | currentLang}}</span>

                <p class="color-gray-300">{{ 'shared.phoneNumber'|translate }}</p>
                <span class="color-primary mb-2">{{student?.relativeNumber || ('shared.notFound' |translate)}}</span>

                <p class="color-gray-300">{{ 'shared.email'|translate }}</p>
                <span class="color-primary mb-2">{{student?.relativeEmail || ('shared.notFound' |translate)}}</span>
              </div>
            </div>

            <hr class="my-6">




        </ng-container>
    </ng-container>













<!----------------edit mode------------------->

<ng-container *ngIf="student$ |async as student">
    <ng-container *ngIf="mode=='edit'"  [formGroup]="studentForm">

      <div class="row g-5 align-items-end">
          <sub-header title="{{'dashboard.students.StudentInfo'|translate}}" img="assets/images/home/student/graduation-student.svg"></sub-header>

          <app-identity-info [(mode)]="mode" [formGroup]="studentForm"></app-identity-info>

          <div class=" col-md-4 col-lg-3" formGroupName="nationalityCategory">
            <label class="label required">{{'shared.nationalityCategory'|translate}}</label>
            <p-dropdown formControlName="id" [options]="nationalitiesCategory$ |async" optionValue="id" optionLabel="{{lang=='ar'? 'name.ar' : 'name.en'}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 " formGroupName="motherLanguage">
            <label class="label required">{{'shared.nativeLanguage'|translate}}</label>
            <p-dropdown formControlName="id" [options]="languages$ | async" optionValue="id" optionLabel="{{lang=='ar'? 'name.ar' : 'name.en'}}" placeholder="{{'shared.writeLanguage' |translate}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 " formGroupName="languageAtHome">
              <label class="label required">{{'shared.homeLanguage'|translate}}</label>
              <p-dropdown formControlName="id" [options]="languages$ | async" optionValue="id" optionLabel="{{lang=='ar'? 'name.ar' : 'name.en'}}" placeholder="{{'shared.writeLanguage' |translate}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 "  formGroupName="mostUsedLanguage">
              <label class="label required">{{'shared.mostUsedLanguage'|translate}}</label>
              <p-dropdown formControlName="id" [options]="languages$ | async" optionValue="id" optionLabel="{{lang=='ar'? 'name.ar' : 'name.en'}}" placeholder="{{'shared.writeLanguage' |translate}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 "  *ngIf="currentUserScope != scopeEnum.Guardian">
            <label class="label">{{'dashboard.parents.ministerialNumber' |translate}}</label>
            <p-inputNumber formControlName="ministerialId" [useGrouping]="false" [maxlength]="10" [minlength]="1"></p-inputNumber>
          </div>


            <ng-container *ngIf="currentUserScope ==scopeEnum.SPEA">
              <div class="col-md-4 col-lg-3 ">
                <label class="label required" for="description">{{'dashboard.students.daleelNumber1'| translate}}</label>
                <p-inputNumber formControlName="daleelId" appFormControlValidationMsg [useGrouping]="false" [maxlength]="10" [minlength]="1" ></p-inputNumber>
              </div>

              <!-- <div class="col-md-4 col-lg-3 ">
                <label class="label" for="description">{{'dashboard.students.manhalNumber'| translate}}</label>
                <p-inputNumber formControlName="manhalNumber" appFormControlValidationMsg [useGrouping]="false" [maxlength]="10" [minlength]="1" ></p-inputNumber>
              </div> -->
            </ng-container>

            <div class="col-md-4 col-lg-3 " *ngIf="currentUserScope !=scopeEnum.Guardian">
              <label class="label required" for="description">{{'dashboard.students.studentSchoolId'| translate}}</label>
              <p-inputNumber formControlName="studentNumber" appFormControlValidationMsg [useGrouping]="false" [maxlength]="10" [minlength]="1" ></p-inputNumber>
            </div>



          <div class="col-md-4 col-lg-3 "  >
            <label class="label required">{{ 'dashboard.students.attendanceType'|translate }}</label>
            <p-dropdown [options]="attendanceType" formControlName="attendanceMode" optionValue="value" optionLabel="name" placeholder="{{'dashboard.students.attendanceType' |translate}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 ">
              <label class="label" for="description">{{'dashboard.students.withDisabilities'| translate}}</label>
              <p-dropdown formControlName="isSpecialAbilities" [options]="booleanOptions" optionValue="value" optionLabel="name" placeholder="{{'shared.yesOrNo' |translate}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 "*ngIf="isSpecialAbilities.value">
              <label class="label" for="description">{{'shared.classroom'| translate}}</label>
              <p-dropdown [(ngModel)]="classType" [ngModelOptions]="{standalone: true}" [options]="specialClassOptions" optionValue="value" (onChange)="onSpecialClassSelected($event.value)" optionLabel="name" placeholder="{{'dashboard.schools.SelectClassType' |translate}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 "*ngIf="isSpecialClass.value"  formGroupName="specialEducation">
            <label class="label" for="description">{{'shared.classroom'| translate}}</label>
            <p-dropdown formControlName="id" [options]="educationType$|async" optionValue="value" optionValue="id" optionLabel="{{lang=='ar'?'name.ar' : 'name.en'}}" placeholder="{{'dashboard.parents.specialEducationtype' |translate}}"></p-dropdown>
          </div>

          <div class="col-md-4 col-lg-3 ">
              <label class="label" for="description">{{'dashboard.students.isChildOfAMartyr'| translate}}</label>
              <p-dropdown formControlName="isChildOfAMartyr" [options]="booleanOptions" optionValue="value" optionLabel="name" placeholder="{{'shared.yesOrNo' |translate}}"></p-dropdown>
          </div>
          <div class="col-md-4 col-lg-3 ">
              <label class="label" for="description">{{'dashboard.students.isGifted'| translate}}</label>
              <p-dropdown #isGifted formControlName="isGifted" [options]="booleanOptions" optionValue="value" optionLabel="name" placeholder="{{'shared.yesOrNo' |translate}}"></p-dropdown>
          </div>

          <ng-container *ngIf="isGifted.value">
            <div class="col-md-4 col-lg-3 " *ngIf="talents$ |async as talents" >
                <label class="label" for="description">{{'dashboard.students.chooseTalent'| translate}}</label>
                <p-multiSelect formControlName="studentTalent" [options]="talents" optionValue="id" optionLabel="{{lang=='ar' ? 'name.ar': 'name.en'}}" placeholder="{{'dashboard.students.chooseTalent' |translate}}" display="chip"></p-multiSelect>
            </div>
          </ng-container>

          <ng-container *ngIf="student.emiratesId">
            <div class="col-md-4 col-lg-3 d-flex gap-5 align-items-center align-self-end">
                <p class="color-gray-300 ">{{'dashboard.addChild.Identification Number' |translate}}</p>
                <span class="color-primary">{{student.emiratesId}}</span>
                <!-- <a class="color-skyBlue-500" (click)="openChangeIdentityModel.emit()">ارسال طلب تعديل </a> -->
            </div>
          </ng-container>

          <ng-container *ngIf="!student.emiratesId">
            <div class="col-md-4 col-lg-3 align-items-center grid-container">
                <p class="color-gray-300 ">{{ 'shared.Identity Number'|translate }}</p>
                <span class="color-primary mb-2">{{'shared.notFound' |translate}}</span>
            </div>

            <div class="col-md-4 col-lg-3 custom-form" *ngIf="reasonForNotHaveIdentityOptions$ | async as options">
                <div class=" ">
                    <label class="label">{{ 'dashboard.addChild.The reason for the lack of identification'|translate }}</label>
                    <p-dropdown [options]="options" formControlName="reasonForNotHavingEmiratesId" optionValue="id" optionLabel="{{lang=='ar'? 'name.ar':'name.en'}}" placeholder="{{ 'shared.cause'|translate }}" ></p-dropdown>
                </div>
            </div>
          </ng-container>

      </div>

      <hr class="my-6">

      <div class="row g-5">
          <sub-header title="{{'dashboard.students.Student School Information'|translate}}" img="assets/images/home/student/school.svg"></sub-header>

          <div class="d-grid grid-col-8 even-gap gap-5">

            <p class="color-gray-300 flex-shrink-0">{{'School'|translate}}</p>
            <span *ngIf="currentUserScope==scopeEnum.SPEA" class="color-primary mb-2 flex-shrink-0" [routerLink]="['../../../schools/school/', student?.school?.id]"><a class="color-skyBlue-500">{{student?.school?.name |currentLang}}</a></span>
            <span *ngIf="currentUserScope==scopeEnum.Guardian || currentUserScope==scopeEnum.Employee" class="color-primary mb-2 flex-shrink-0">{{student?.school?.name |currentLang}}</span>

            <p class="color-gray-300">{{ 'shared.curriculum'|translate }}</p>
            <span class="color-primary mb-2">{{student?.curriculum?.name |currentLang}}</span>

            <p class="color-gray-300">{{ 'shared.state'|translate }}</p>
            <span class="color-primary mb-2">{{student?.schoolState |currentLang}}</span>


            <p class="color-gray-300">{{ 'dashboard.parents.schoolNumber'|translate }}</p>
            <span class="color-primary mb-2">{{student?.schoolCode}}</span>


            <p class="color-gray-300">{{ 'shared.grade'|translate }}</p>
            <span class="color-primary mb-2">{{student?.grade.name |currentLang}}</span>


            <p class="color-gray-300">{{'shared.track'| translate}}</p>
            <span *ngIf="student?.track?.id" class="color-primary mb-2">{{student.track.name |currentLang}}</span>
            <span *ngIf="!student?.track?.id" class="color-red-500 mb-2">{{'shared.notFound' |translate}}</span>


            <p class="color-gray-300">{{'shared.division'| translate}}</p>

            <span *ngIf="student.division?.id" class="color-primary mb-2">{{student.division.name |currentLang}}</span>
            <span *ngIf="!student.division?.id" class="color-red-500 mb-2">{{'dashboard.students.notAddedToDivision'|translate }}</span>


            <p class="color-gray-300">{{ 'dashboard.students.studentStatus'|translate }}</p>
            <span class="color-primary mb-2" *ngIf="student.isPassed!=null">{{student?.isPassed ? ('shared.allStatus.Passed'|translate) : ('shared.allStatus.Failed'|translate)}}</span>
            <span class="color-primary mb-2" *ngIf="student.isPassed==null">{{'shared.NotDeterminedYet'|translate}}</span>



          </div>
      </div>

      <hr class="my-6">

      <div class="row g-5">
        <sub-header title="{{'dashboard.students.Student Address Information'|translate}}">
          <i class="pi pi-globe color-orange" style="font-size: 2rem"></i>
        </sub-header>

        <ng-container formGroupName="address">
          <div class="col-md-4 col-lg-3 ">
              <label class="label">{{'shared.emara'|translate}}</label>
              <input type="text" formControlName="emirate"  pInputText placeholder="{{'shared.writeEmara'|translate}}" />
          </div>

          <div class="col-md-4 col-lg-3 ">
              <label class="label">{{'shared.city'|translate}}</label>
              <input type="text" formControlName="city"  pInputText placeholder="{{'shared.chooseCity'|translate}}" />
              <!-- <p-dropdown formControlName="city" [options]="cities$|async" optionValue="id" optionLabel="{{lang=='ar'? 'name.ar' : 'name.en'}}" placeholder="{{'shared.chooseCity'|translate }}"></p-dropdown> -->
          </div>
          <div class="col-md-4 col-lg-3 ">
              <label class="label">{{'shared.state'|translate}}</label>
              <input type="text" formControlName="state"  pInputText placeholder="{{'shared.chooseState'|translate}}" />
              <!-- <p-dropdown formControlName="state" [options]="(states$|async)" optionValue="value" optionLabel="{{lang=='ar'? 'name.ar' : 'name.en'}}" placeholder="{{'shared.chooseState'|translate }}"></p-dropdown> -->
          </div>
        </ng-container>
      </div>

      <div class="py-6"></div>

      <div class="row g-5">
        <sub-header title="{{'dashboard.parents.parentInfo'|translate}}" img="assets/images/home/schools-students/Parentnew.svg"></sub-header>

        <div class="d-grid grid-col-8 even-gap gap-5">
          <p class="color-gray-300">{{ 'Guardian'|translate }}</p>

          <div class="d-flex gap-5 align-items-center">
            <span class="color-primary mb-2">{{student?.guardianName | currentLang}}</span>
            <a class="color-skyBlue-500" (click)="isGuardiansModelOpend=true; getGuardians()"> {{'shared.edit' | translate}} </a>
          </div>


          <p class="color-gray-300">{{ 'dashboard.parents.relatedType'|translate }}</p>
          <span class="color-primary mb-2">{{student?.relativeRelation?.name | currentLang}}</span>

          <p class="color-gray-300">{{ 'shared.phoneNumber'|translate }}</p>
          <span class="color-primary mb-2">{{student?.relativeNumber || ('shared.notFound' |translate)}}</span>

          <p class="color-gray-300">{{ 'shared.email'|translate }}</p>
          <span class="color-primary mb-2">{{student?.relativeEmail || ('shared.notFound' |translate)}}</span>
        </div>

      </div>

      <div class="py-6"></div>

    </ng-container>
</ng-container>







<p-dialog header="{{'dashboard.SystemSetting.addSchools'|translate}}" (onHide)="paginationState.rows=6" [(visible)]="isGuardiansModelOpend" [modal]="true" [style]="{width: '70vw'}">
  <ng-template pTemplate="content">
      <form class="custom-form">

          <app-table-caption
          [styles]="{background: 'transparent'}"
          [hasExport]="false"
          (onFilter)="guardiansFilteration.page=1;getGuardians()"
          (onSearch)="guardiansFilteration.KeyWord= $event;guardiansFilteration.page=1; getGuardians()">

              <div class="row gx-5">
                <div class="col-md-4">
                    <!-- [ngClass]="{'ng-invalid ng-dirty': IdentityNumCtr.errors && IdentityNumCtr.errors?.['pattern']}" -->
                    <label class="label" for="day">{{'dashboard.addChild.Identification Number' | translate}}</label>
                    <input
                    [LangRestrict]="'numb'"
                    [(ngModel)]="guardiansFilteration.emiratesId"
                    name="emiratesId"
                    pInputText
                    placeholder="{{'dashboard.addChild.Identification Number' | translate}}" />
                    <!-- <div *ngIf="IdentityNumCtr.errors?.['pattern']" class="mt-2 color-red-500 fs-4"> {{'shared.Must Start With 784 and Contain 15 Numbers Only'|translate}}</div> -->
                  </div>

                  <div class="col-md-4">
                    <label class="label">{{'dashboard.students.nationalities'| translate}}</label>
                      <p-dropdown [showClear]="true" [options]="(countries$ | async)" [(ngModel)]="guardiansFilteration.NationalityId" (onChange)="getGuardians()" optionValue="id" optionLabel="{{lang=='ar' ? 'name.ar': 'name.en'}}" placeholder="{{'dashboard.students.chooseNationalitie'|translate }}" [ngModelOptions]="{standalone: true}"></p-dropdown>
                  </div>
              </div>
          </app-table-caption>



          <div class="row gx-5 gy-4  mt-5" >
              <ng-container *ngIf="!AllGuardians.loading">

                  <ng-container *ngFor="let item of AllGuardians?.list; let i=index">
                      <div class="col-md-4 d-flex align-items-center gap-3">
                          <p-checkbox [name]="i" [(ngModel)]="selectedGuardianId" [binary]="true" [trueValue]="item.id" [ngModelOptions]="{standalone: true}"></p-checkbox>
                          <label class="label label--sm" [for]="i"> {{item.name |currentLang}}</label>
                      </div>
                  </ng-container>

              </ng-container>

              <ng-container *ngIf="AllGuardians.loading">
                  <app-loader></app-loader>
              </ng-container>

              <ng-container *ngIf="!AllGuardians.total&& !AllGuardians.loading">
                <app-informative-block title="{{'emptyList.Parent List is empty' |translate}}"></app-informative-block>
            </ng-container>



          </div>
          <div *ngIf="AllGuardians.total > paginationState.rows">
              <app-pagination [totalItems]="AllGuardians.total" (paginationChanged)="paginationChanged($event)"></app-pagination>
          </div>

          <div class="d-flex  align-items-center justify-content-end mt-6">
              <button class="btn btn-primary btn--md" (click)="changeGuardian();$event.preventDefault()">
                  <span>{{'shared.save'| translate}} </span>
              </button>
          </div>
      </form>
  </ng-template>
</p-dialog>





<p-dialog header="{{'dashboard.students.sendChangeIdentityReq' | translate}}" [(visible)]="changeIdentityModelOpened" [draggable]="false" [modal]="true" [style]="{width: '40vw'}">

    <ng-template pTemplate="content">

        <div class="custom-form mt-5">
            <input type="text"  pInputText placeholder="{{'dashboard.students.writeNewIdentityNumber'|translate}}" />
        </div>
        <!-- accept=".xlsx, .xls, .csv" -->
        <app-file-upload accept=".pdf" label="{{'shared.clickToUploadFile'| translate}}" view="full" ></app-file-upload>
        <div class="d-flex justify-content-end mt-4">
            <button class="btn btn-primary">{{'shared.send'| translate}}</button>
        </div>
    </ng-template>

</p-dialog>



<p-dialog header="{{'dashboard.parents.accountantComment' | translate}}" [(visible)]="isAccountantCommentModel" [draggable]="false" [modal]="true" [style]="{width: '40vw'}">

    <ng-template pTemplate="content">
        <div class="custom-form mt-5" *ngIf="student$ |async as student" [formGroup]="studentForm">
            <!-- <label class="label">{{'dashboard.parents.accountantComment' | translate}}</label> -->
            <p class="paragraph paragraph--sm color-gray-800 mb-6 w-75">
                {{student?.studentPayments?.accountantComment}}
            </p>
        </div>
    </ng-template>

</p-dialog>



