<div class="parents">
    <div class="caption">
        <!-- Serach and Filter Button -->
        <div class="col-8  caption__filter caption__filter--actions">
            <div class="myInput myInput--full myInput--search p-input-icon-right ms-auto">
                <i class="pi pi-search fs-3 "></i>
                <input class="input" [(ngModel)]="searchKey" (keyup)="applyFilter()" type="text" pInputText placeholder="{{'shared.Search...'|translate}}" />
            </div>
        </div>
    </div>

    <div class="prim-table mt-4"  *ngIf="isLoaded">
        <p-table #dt [value]="parent" [paginator]="true" [(rows)]="rows" [(first)]="first"sortMode="multiple">
            <!-- Table Caption -->
            <ng-template pTemplate="caption">
                <!-- <app-table-caption></app-table-caption> -->
            </ng-template>

            <ng-template pTemplate="header" let-columns="columns">
                <tr>
                    <th pSortableColumn="name.ar">
                        <div class="content">
                            {{'dashboard.parents.parentName'|translate }}
                            <p-sortIcon field="name.ar"></p-sortIcon>
                        </div>
                    </th>
                    <th pSortableColumn="surname.ar">
                        {{'dashboard.parents.parentNickname'|translate }}
                        <p-sortIcon field="surname.ar"></p-sortIcon>
                    </th>
                    <th pSortableColumn="nationalityName.ar">{{'shared.nationality'|translate }}
                        <p-sortIcon field="nationalityName.ar"></p-sortIcon>
                    </th>
                    <th pSortableColumn="mobile">{{'shared.phoneNumber'|translate }}
                        <p-sortIcon field="mobile"></p-sortIcon>
                    </th>
                    <th pSortableColumn="email">{{'shared.email'|translate }}
                        <p-sortIcon field="email"></p-sortIcon>
                    </th>
                    <th pSortableColumn="childrenCount">{{'dashboard.parents.childrenNumber'|translate }}
                        <p-sortIcon field="childrenCount"></p-sortIcon>
                    </th>
                    <th pSortableColumn="actions"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-columns="columns">
                <tr>
                    <!-- <td *ngFor="let col of cols | paginate:{ id: 'foo',itemsPerPage: 4 ,currentPage: p,totalItems: 8 }">
                        {{product[col.field]}}
                    </td> -->
                    <td>{{product.name.ar}}</td>
                    <td>{{product.surname.ar}}</td>
                    <td>{{product.nationalityName.ar}}</td>
                    <td>{{product.mobile}}</td>
                    <td>{{product.email}}</td>
                    <td>{{product.childrenCount}}</td>
                    <td>
                        <div class="color-skyBlue-500 ">
                            <a role="button" class="gap-2 color-skyBlue-500  text-decoration-underline fs-4" routerLink="parent/{{product.id}}/all-children">
                                <p><span class=""></span>&nbsp;<span>{{'dashboard.parents.viewChildrenList'|translate }}</span></p>
                            </a>
                        </div>
                    </td>
                </tr>
            </ng-template>

        </p-table>

        <div class="">
            <app-pagination [totalItems]="totalItem" 
            (paginationChanged)="paginationChanged($event)"></app-pagination>
        </div>
    </div>
</div>
