
<div class="prim-table mt-4" *ngIf="divisions.totalAllData || divisions.loading">
    <p-table #dt [value]="divisions.list" [lazy]="true">
        <ng-template pTemplate="caption">
            <app-table-caption 
            (onExport)="onExport($event)" 
            (onFilter)="getSchoolDivisions()" 
            (onSearch)="filtration.KeyWord = $event; getSchoolDivisions()"
            (onClear)="clearFilter()"></app-table-caption>

        </ng-template>
        
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="name">{{'dashboard.schools.sectionName' |translate}} <p-sortIcon field="name"></p-sortIcon></th>
                <th pSortableColumn="gradeName">{{'dashboard.schools.gradeName' |translate}} <p-sortIcon field="gradeName"></p-sortIcon></th>
                <th pSortableColumn="classRoomNumber">{{'dashboard.schools.roomNumber' |translate}} <p-sortIcon field="classRoomNumber"></p-sortIcon></th>
                <th pSortableColumn="studentCount">{{'dashboard.schools.studentNumber' |translate}} <p-sortIcon field="studentCount"></p-sortIcon></th>
                <th pSortableColumn="isSpecialAbilities">{{'dashboard.schools.spetialAbilities' |translate}} <p-sortIcon field="isSpecialAbilities"></p-sortIcon></th>
                <th pSortableColumn="teacherName">{{'dashboard.schools.sectionTeacher' |translate}} <p-sortIcon field="teacherName"></p-sortIcon></th>
                 <th class="actions" pSortableColumn="actions"></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-division>
            <tr [routerLink]="['division/',divisions.id]">
                <td>{{division.name.ar}}</td>
                <td>{{division.gradeName.ar}}</td>
                <td>{{division.classRoomNumber}}</td>
                <td>{{division.studentCount}}</td>
                <td>{{division.isSpecialAbilities}}</td>
                <td>{{division.teacherName.ar}}</td>
                <!-- <td >

                    <app-dropdown [items]="menuItems"></app-dropdown>

                </td> -->
            </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage" let-columns>
            <tr>
                <td [attr.colspan]="20">
                    <ng-container *ngIf="divisions.totalAllData && divisions.list.length == 0 &&  !divisions.loading">
                        <app-informative-block title="{{'emptyList.noDataMatch' |translate}}" src="assets/images/empty-list/empty-list.svg"></app-informative-block>
                    </ng-container>

                    <app-loader></app-loader>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <div class="">
        <app-pagination [totalItems]="divisions.total" (paginationChanged)="paginationChanged($event)"></app-pagination>
    </div>
</div>


<ng-container *ngIf="!divisions.totalAllData && !divisions.loading">
    <app-informative-block title="{{'emptyList.divisions' |translate}}" src="assets/images/empty-list/empty-list.svg"></app-informative-block>
</ng-container>