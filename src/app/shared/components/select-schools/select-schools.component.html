<p-dialog styleClass="select-school" (onHide)="closeModel()"  [closable]="false" [baseZIndex]="10000" [resizable]="false" [(visible)]="selectSchoolModelOpened" [draggable]="false" [modal]="true" [style]="{width: '70vw'}">

    <ng-template pTemplate="header">
     <span class="headeritem mb-5">{{'dashboard.UserRole.Select School'|translate}}</span>
     <button (click)="closeModel()" ><i class="pi pi-times" ></i></button>
     <div class="alert" style="display: fixed;">
       <p>{{'dashboard.UserRole.You Select'|translate}}{{MarkedListLength}}{{'dashboard.UserRole.From School'|translate}}</p>
   
    </div>
   </ng-template>
    
     <ng-template pTemplate="content">

      <div class="custom-form parent-modal" *ngIf="schools.totalAllData || schools.loading">

              <app-table-caption   [styles]="{background: 'transparent'}" [hasExport]="false" [hasFilter]="false"  (onSearch)="schools.list=[];filtration.Page=1;filtration.KeyWord = $event; getSchools()" (onClear)="clearFilter()">
              </app-table-caption>

              <div class="row gx-5 form-set">
                      <div class="col">
                        <label class="label" for="region">{{'shared.state'|translate }}  </label>
                        <p-multiSelect [options]="(states$ |async)" display="chip" [(ngModel)]="filtration.StateId" (onChange)="schools.list=[];filtration.Page=0;getSchools()" optionValue="id" optionLabel="{{lang=='ar' ? 'name.ar': 'name.en'}}"  placeholder="{{'shared.chooseState'|translate }}"></p-multiSelect>
                      </div>
                        <div class="col">
                            <label class="label" for="curriculum">{{'shared.curriculum'|translate }}  </label>
                            <p-multiSelect [options]="(curriculums$ | async)" display="chip" [(ngModel)]="filtration.curriculumId" (onChange)="schools.list=[];filtration.Page=1;getSchools()" optionValue="id" optionLabel="{{lang=='ar' ? 'name.ar': 'name.en'}}" placeholder="{{'shared.chooseCurriculum'|translate }}"></p-multiSelect>
                        </div>
              </div>

             
              
        
          <div  class="contain" [ngClass]="schools.list.length>13 ? 'scroll':''">
              <div *ngIf="!schools.list.length">
                  <ng-container *ngIf="schools.totalAllData && schools.list.length == 0 &&  !schools.loading">
                      <app-informative-block title="{{'emptyList.noDataMatch' |translate}}" src="assets/images/empty-list/empty-list.svg"></app-informative-block>
                  </ng-container>

                  <app-loader></app-loader>
              </div>
              <div *ngIf="schools.list.length" > 
                  <div class="d-flex" >
                      <p-checkbox    binary="true"  [(ngModel)]="selectAllStatus" (onChange)="selectAllSchools($event)"></p-checkbox>
                      <span class="mx-3 ">{{'shared.selectAll'|translate}}</span>
                
                  </div>
                  <div class="row gx-5 gy-4 form-set mt-5">
                  <ng-container *ngFor="let item of schools.list; let i = index">
                      <div class="col-md-4 d-flex gap-4 align-items-center">
                          <p-checkbox  [value]="item"  name="schools"   [(ngModel)]="selectedSchoolIds" (onChange)="getSelectedSchool()"></p-checkbox>
                          <label class="label label--sm" for=""> {{item?.name|currentLang}} </label> 
                      </div>
                  </ng-container>

              </div>
              <div *ngIf="schools.total > paginationState.rows">
                <app-pagination [totalItems]="schools.total" (paginationChanged)="paginationChanged($event)"></app-pagination>
              </div>
            
          </div>
      </div>
  </div>

   
     <ng-container *ngIf="!schools.totalAllData && !schools.loading">
         <app-informative-block title="{{'emptyList.schools' |translate}}" src="assets/images/empty-list/empty-list.svg"></app-informative-block>
     </ng-container>
   
   
   
     </ng-template>
   
     <ng-template pTemplate="footer">
       <div class="d-flex  align-items-center justify-content-end mt-5 ">
         <button class="btn btn-primary " (click)=" showSelectedSchool()">
             <span>{{'shared.save'| translate}} </span>
         </button>
     </div>
   
     </ng-template>
   </p-dialog>


  