<p-dialog styleClass="select-school" [closable]="false" [baseZIndex]="10000" [resizable]="false" [(visible)]="selectSchoolModelOpened" [draggable]="false" [modal]="true" [style]="{width: '45vw','height':'70vw'}">

    <ng-template pTemplate="header">
     <span class="headeritem mb-5">{{'dashboard.UserRole.Select School'|translate}}</span>
     <button (click)="closeModel()" ><i class="pi pi-times" ></i></button>
     <div class="alert" style="display: fixed;">
       <p>{{'dashboard.UserRole.You Select'|translate}}{{MarkedListLength}}{{'dashboard.UserRole.From School'|translate}}</p>
   
    </div>
   </ng-template>
    
     <ng-template pTemplate="content">
      
       <div class="prim-table mt-4" *ngIf="schools.totalAllData || schools.loading">
         <p-table #dt [lazy]="true" [value]="schools.list" scrollHeight="350px" [scrollable]="true"  [virtualScroll]="true" [virtualRowHeight]="95" (onSort)="onSort($event)" >
             <!-- Table Caption -->
             <ng-template pTemplate="caption">
                 <app-table-caption 
                 (onExport)="onExport($event)" 
                 (onFilter)="getSchools()" 
                 (onSearch)="filtration.KeyWord = $event; getSchools()" 
                 (onClear)="clearFilter()"
                 size="small">
        
                    
                     <div class="row gx-5 form-set">
                       <div class="col">
                         <label class="label" for="region">{{'shared.state'|translate }}  </label>
                         <p-multiSelect [options]="(states$ |async)" display="chip" [(ngModel)]="filtration.StateId" optionValue="id" optionLabel="{{lang=='ar' ? 'name.ar': 'name.en'}}"  placeholder="{{'shared.chooseState'|translate }}"></p-multiSelect>
                       </div>
                         <div class="col">
                             <label class="label" for="curriculum">{{'shared.curriculum'|translate }}  </label>
                             <p-multiSelect [options]="(curriculums$ | async)" display="chip" [(ngModel)]="filtration.curriculumId" optionValue="id" optionLabel="name.ar" placeholder="{{'shared.chooseCurriculum'|translate }}"></p-multiSelect>
                         </div>
                     </div>
                 </app-table-caption>
   
             </ng-template>
   
             <ng-template pTemplate="header" let-columns="columns">
                 <tr>
                     <th   style="max-width:7rem;min-width:7rem"></th>
                     <th style="min-width:23rem" pSortableColumn="name">
                       <p-sortIcon field="name"></p-sortIcon>
                       {{'dashboard.schools.schoolName'|translate}}
   
                     </th>
                     <th style="min-width:14rem" pSortableColumn="state">
                       <p-sortIcon field="state"></p-sortIcon>
                       {{'shared.state'|translate}}
                     </th>
                     <th pSortableColumn="curriculum">
                       <p-sortIcon field="curriculum"></p-sortIcon>
                       {{'shared.curriculum'|translate}}
                        
                     </th>
                 </tr>
             </ng-template>
   
             <ng-template pTemplate="body" let-school>
   
             
                     <tr >
                       <td class="custom-form" style="max-width:7rem">
                    
                         <ng-container *ngFor="let item of schoolIsSelectedList;let i=index ">
                           <p-checkbox  name="school" *ngIf="item.id==school.id" [(ngModel)]="school.isSelected" binary="true"  (onChange)="getSelectedSchool($event,school.id)"  [inputId]="school.id" ></p-checkbox>
                         </ng-container>
                     
                       </td>
                         <td  style="min-width:23rem">{{school.name.ar}}</td>
                         <td style="min-width:14rem">{{school.state?.ar}}</td>
                         <td>{{school.curriculum?.ar}}</td>
   
                     </tr>
             </ng-template>
   
          
             <ng-template pTemplate="emptymessage" let-columns>
                 <tr>
                     <td [attr.colspan]="20">
                         <ng-container *ngIf="schools.totalAllData && schools.list.length == 0 &&  !schools.loading">
                             <app-informative-block  title="{{'emptyList.noDataMatch' |translate}}" src="assets/images/empty-list/empty-list.svg"></app-informative-block>
                         </ng-container>
   
                         <app-loader></app-loader>
                     </td>
                 </tr>
             </ng-template>
   
         </p-table>
         
   
   
     </div>
   
     <ng-container *ngIf="!schools.totalAllData && !schools.loading">
         <app-informative-block title="{{'emptyList.schools' |translate}}" src="assets/images/empty-list/empty-list.svg"></app-informative-block>
     </ng-container>
   
   
   
     </ng-template>
   
     <ng-template pTemplate="footer">
       <div class="d-flex  align-items-center justify-content-end mt-5 ">
         <button class="btn btn-primary " (click)=" showSelectedSchool()">
             <span>{{'shared.save'| translate}} </span>
         </button>
     </div>
   
     </ng-template>
   </p-dialog>


  